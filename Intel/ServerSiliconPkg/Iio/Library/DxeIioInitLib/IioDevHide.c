/** @file

  @copyright
  INTEL CONFIDENTIAL
  Copyright 2016 - 2019 Intel Corporation. <BR>

  The source code contained or described herein and all documents related to the
  source code ("Material") are owned by Intel Corporation or its suppliers or
  licensors. Title to the Material remains with Intel Corporation or its suppliers
  and licensors. The Material may contain trade secrets and proprietary    and
  confidential information of Intel Corporation and its suppliers and licensors,
  and is protected by worldwide copyright and trade secret laws and treaty
  provisions. No part of the Material may be used, copied, reproduced, modified,
  published, uploaded, posted, transmitted, distributed, or disclosed in any way
  without Intel's prior express written permission.

  No license under any patent, copyright, trade secret or other intellectual
  property right is granted to or conferred upon you by disclosure or delivery
  of the Materials, either expressly, by implication, inducement, estoppel or
  otherwise. Any license under such intellectual property rights must be
  express and approved by Intel in writing.

  Unless otherwise agreed by Intel in writing, you may not remove or alter
  this notice or any other notice embedded in Materials by Intel or
  Intel's suppliers or licensors in any way.
**/


#include <IioPlatformData.h>
#include <Library/CpuAndRevisionLib.h>
#include <Library/DebugLib.h>
#include <Library/IioDataHubLib.h>

//
// IioDevFuncHideTable is the default definition of the Devices/Functions
// that need to be hidden after Pcie Resources Allocation

// SKX table definition is as follows:run
// Column = Funcion0 -7
// Row  = C-Stack, Pstack0-2 and MCP-Stacks 0-1
// Item = Bit 0-31 is related to every Device Number
// So for example Column 0 and Row 0
// 0x00000080 = Hides Dev 7 Func 0 of C-Stack (IIO Dfx)
//
// Here are the list of the DFX devices hidden by default. For now it applies to all sockets
//
//---------------------------------------------------------------------------------------------------------------------
// Stack/Function | 0          | 1         |    2       |  3         |  4       |  5      |   6          |  7         |
//---------------------------------------------------------------------------------------------------------------------
// IIO_CSTACK     | 7          | 5         |            |            |7         |         | 7,6          |  7         |
//---------------------------------------------------------------------------------------------------------------------
// IIO_PSTACK0    | 7,20-23,31 |7,20-23,31 | 7,20-23,31 |7,20-23,31  |7,20-22,31|20-22,31 | 7,6,20-22,31 | 20-22,7, 31|
//---------------------------------------------------------------------------------------------------------------------
// IIO_PSTACK1    | 7          | 7,8,9     | 7          | 7          |7         |         |              |            |
//---------------------------------------------------------------------------------------------------------------------
// IIO_PSTACK2    | 7          | 7         | 16,14,7    | 18,21,22,23|7         |         | 18,7,6       |  7,18,22   |
//---------------------------------------------------------------------------------------------------------------------
// IIO_PSTACK3    | 7          |           |            |            |7         |         | 7,6          |  7         |
//---------------------------------------------------------------------------------------------------------------------
// IIO_PSTACK4    | 7          |           |            |            |7         |         | 7,6          |  7         |
//---------------------------------------------------------------------------------------------------------------------

IIO_DEVFUNHIDE_TABLE IioDevFuncHideTable_Skx[] = {
  { // socket 0
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x00000080, 0x00000020, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_CSTACK
   {0x80F00080, 0x80F00080, 0x80F00080, 0x80F00080, 0x80700080, 0x80700000, 0x807000a0, 0x80700080}, // IIO_PSTACK0
   {0x00000080, 0x00000380, 0x00000080, 0x00000080, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_PSTACK1
   {0x00000080, 0x00000080, 0x0001c080, 0x00E54080, 0x00000080, 0x00000000, 0x000400a0, 0x00440080}, // IIO_PSTACK2
   {0x00000080, 0x00000000, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_PSTACK3
   {0x00000080, 0x00000000, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}}  // IIO_PSTACK4
  },
  { // Socket 1
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x00000080, 0x00000020, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_CSTACK
   {0x80F00080, 0x80F00080, 0x80F00080, 0x80F00080, 0x80700080, 0x80700000, 0x807000a0, 0x80700080}, // IIO_PSTACK0
   {0x00000080, 0x00000380, 0x00000080, 0x00000080, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_PSTACK1
   {0x00000080, 0x00000080, 0x0001c080, 0x00E54080, 0x00000080, 0x00000000, 0x000400a0, 0x00440080}, // IIO_PSTACK2
   {0x00000080, 0x00000000, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_PSTACK3
   {0x00000080, 0x00000000, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}}  // IIO_PSTACK4
  },
  { // Socket 2
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x00000080, 0x00000020, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_CSTACK
   {0x80F00080, 0x80F00080, 0x80F00080, 0x80F00080, 0x80700080, 0x80700000, 0x807000a0, 0x80700080}, // IIO_PSTACK0
   {0x00000080, 0x00000380, 0x00000080, 0x00000080, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_PSTACK1
   {0x00000080, 0x00000080, 0x0001c080, 0x00E54080, 0x00000080, 0x00000000, 0x000400a0, 0x00440080}, // IIO_PSTACK2
   {0x00000080, 0x00000000, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_PSTACK3
   {0x00000080, 0x00000000, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}}  // IIO_PSTACK4
  },
  { // Socket 3
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x00000080, 0x00000020, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_CSTACK
   {0x80F00080, 0x80F00080, 0x80F00080, 0x80F00080, 0x80700080, 0x80700000, 0x807000a0, 0x80700080}, // IIO_PSTACK0
   {0x00000080, 0x00000380, 0x00000080, 0x00000080, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_PSTACK1
   {0x00000080, 0x00000080, 0x0001c080, 0x00E54080, 0x00000080, 0x00000000, 0x000400a0, 0x00440080}, // IIO_PSTACK2
   {0x00000080, 0x00000000, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_PSTACK3
   {0x00000080, 0x00000000, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}}  // IIO_PSTACK4
  },
  { // socket 4
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x00000080, 0x00000020, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_CSTACK
   {0x80F00080, 0x80F00080, 0x80F00080, 0x80F00080, 0x80700080, 0x80700000, 0x807000a0, 0x80700080}, // IIO_PSTACK0
   {0x00000080, 0x00000380, 0x00000080, 0x00000080, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_PSTACK1
   {0x00000080, 0x00000080, 0x0001c080, 0x00E54080, 0x00000080, 0x00000000, 0x000400a0, 0x00440080}, // IIO_PSTACK2
   {0x00000080, 0x00000000, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_PSTACK3
   {0x00000080, 0x00000000, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}}  // IIO_PSTACK4
  },
  { // Socket 5
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x00000080, 0x00000020, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_CSTACK
   {0x80F00080, 0x80F00080, 0x80F00080, 0x80F00080, 0x80700080, 0x80700000, 0x807000a0, 0x80700080}, // IIO_PSTACK0
   {0x00000080, 0x00000380, 0x00000080, 0x00000080, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_PSTACK1
   {0x00000080, 0x00000080, 0x0001c080, 0x00E54080, 0x00000080, 0x00000000, 0x000400a0, 0x00440080}, // IIO_PSTACK2
   {0x00000080, 0x00000000, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_PSTACK3
   {0x00000080, 0x00000000, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}}  // IIO_PSTACK4
  },
  { // Socket 6
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x00000080, 0x00000020, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_CSTACK
   {0x80F00080, 0x80F00080, 0x80F00080, 0x80F00080, 0x80700080, 0x80700000, 0x807000a0, 0x80700080}, // IIO_PSTACK0
   {0x00000080, 0x00000380, 0x00000080, 0x00000080, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_PSTACK1
   {0x00000080, 0x00000080, 0x0001c080, 0x00E54080, 0x00000080, 0x00000000, 0x000400a0, 0x00440080}, // IIO_PSTACK2
   {0x00000080, 0x00000000, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_PSTACK3
   {0x00000080, 0x00000000, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}}  // IIO_PSTACK4
  },
  { // Socket 7
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x00000080, 0x00000020, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_CSTACK
   {0x80F00080, 0x80F00080, 0x80F00080, 0x80F00080, 0x80700080, 0x80700000, 0x807000a0, 0x80700080}, // IIO_PSTACK0
   {0x00000080, 0x00000380, 0x00000080, 0x00000080, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_PSTACK1
   {0x00000080, 0x00000080, 0x0001c080, 0x00E54080, 0x00000080, 0x00000000, 0x000400a0, 0x00440080}, // IIO_PSTACK2
   {0x00000080, 0x00000000, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}, // IIO_PSTACK3
   {0x00000080, 0x00000000, 0x00000000, 0x00000000, 0x00000080, 0x00000000, 0x000000a0, 0x00000080}}  // IIO_PSTACK4
  }
};

// ICX-SP table definition is as follows:run
// Column = Funcion0 -7
// Row  = IIO Stack0-2 and Uncore Stack0-1
// Item = Bit 0-31 is related to every Device Number
// So for example Column 0 and Row 0
// 0x00000080 = Hides Dev 7 Func 0 of IIO Stack0
//
// Here are the list of the DFX devices hidden by default. For now it applies to all sockets
//
//---------------------------------------------------------------------------------------------------------------------
// Stack/Function |  0       |  1       |  2       |  3       |  4       |  5       |  6       |  7       |
//---------------------------------------------------------------------------------------------------------------------
// IIO_STACK0     |          | 3-7      | 2        | 0        |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------
// IIO_STACK1     |          | 4-11     |          | 0        |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------
// IIO_STACK2     |          | 4-11     |          | 0        |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------
// UNCORE_STACK0  |          |          |          | 2-3      |          |          |          | 2        |
//---------------------------------------------------------------------------------------------------------------------
// UNCORE_STACK1  |          |          |          |          |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------

IIO_DEVFUNHIDE_TABLE IioDevFuncHideTable_IcxSp[] = {
  { // socket 0
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x000000F0, 0x000000F8, 0x00000004, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK1
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK2
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK3
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK4
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}}, // IIO_STACK5
   {{0x00000000, 0x00000000, 0x00000000, 0x0000000C, 0x00000000, 0x00000000, 0x00000000, 0x00000004}, // UNCORE_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}} // UNCORE_STACK1
  },
  { // socket 1
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x000000F0, 0x000000F8, 0x00000004, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK1
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK2
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK3
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK4
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}}, // IIO_STACK5
   {{0x00000000, 0x00000000, 0x00000000, 0x0000000C, 0x00000000, 0x00000000, 0x00000000, 0x00000004}, // UNCORE_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}} // UNCORE_STACK1
  },
  { // socket 2
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x000000F0, 0x000000F8, 0x00000004, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK1
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK2
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK3
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK4
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}}, // IIO_STACK5
   {{0x00000000, 0x00000000, 0x00000000, 0x0000000C, 0x00000000, 0x00000000, 0x00000000, 0x00000004}, // UNCORE_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}} // UNCORE_STACK1
  },
  { // socket 3
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x000000F0, 0x000000F8, 0x00000004, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK1
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK2
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK3
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK4
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}}, // IIO_STACK5
   {{0x00000000, 0x00000000, 0x00000000, 0x0000000C, 0x00000000, 0x00000000, 0x00000000, 0x00000004}, // UNCORE_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}} // UNCORE_STACK1
  },
  { // socket 4
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x000000F0, 0x000000F8, 0x00000004, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK1
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK2
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK3
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK4
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}}, // IIO_STACK5
   {{0x00000000, 0x00000000, 0x00000000, 0x0000000C, 0x00000000, 0x00000000, 0x00000000, 0x00000004}, // UNCORE_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}} // UNCORE_STACK1
  },
  { // socket 5
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x000000F0, 0x000000F8, 0x00000004, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK1
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK2
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK3
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK4
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}}, // IIO_STACK5
   {{0x00000000, 0x00000000, 0x00000000, 0x0000000C, 0x00000000, 0x00000000, 0x00000000, 0x00000004}, // UNCORE_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}} // UNCORE_STACK1
  },
  { // socket 6
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x000000F0, 0x000000F8, 0x00000004, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK1
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK2
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK3
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK4
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}}, // IIO_STACK5
   {{0x00000000, 0x00000000, 0x00000000, 0x0000000C, 0x00000000, 0x00000000, 0x00000000, 0x00000004}, // UNCORE_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}} // UNCORE_STACK1
  },
  { // socket 7
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x000000F0, 0x000000F8, 0x00000004, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK1
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK2
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK3
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK4
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}}, // IIO_STACK5
   {{0x00000000, 0x00000000, 0x00000000, 0x0000000C, 0x00000000, 0x00000000, 0x00000000, 0x00000004}, // UNCORE_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}} // UNCORE_STACK1
  }
};

// ICX-DE table definition is as follows:run
// Column = Funcion0 -7
// Row  = IIO Stack0-4 and Uncore Stack0-1
// Item = Bit 0-31 is related to every Device Number
// So for example Column 0 and Row 0
// 0x00000080 = Hides Dev 7 Func 0 of IIO Stack0
//
// Here are the list of the DFX devices hidden by default. For now it applies to all sockets
//
//---------------------------------------------------------------------------------------------------------------------
// Stack/Function |  0       |  1       |  2       |  3       |  4       |  5       |  6       |  7       |
//---------------------------------------------------------------------------------------------------------------------
// IIO_STACK0     |          |          | 2        | 0        |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------
// IIO_STACK1     |          | 4-11     |          | 0        |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------
// IIO_STACK2     |          |          |          | 0        |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------
// IIO_STACK3     |          |          |          | 0        |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------
// IIO_STACK4     |          |          |          | 0        |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------
// UNCORE_STACK0  |          |          |          |          |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------
// UNCORE_STACK1  |          |          |          |          |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------

IIO_DEVFUNHIDE_TABLE IioDevFuncHideTable_IcxDe[] = {
  { // socket 0
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x00000000, 0x00000000, 0x00000004, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK0
   {0x00000000, 0x00000FF0, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK1
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK2
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK3
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}}, // IIO_STACK4
   {{0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // UNCORE_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}} // UNCORE_STACK1
  }
};

// SNR table definition is as follows:run
// Column = Funcion0 -7
// Row  = IIO Stack0-4 and Uncore Stack0-1
// Item = Bit 0-31 is related to every Device Number
// So for example Column 0 and Row 0
// 0x00000080 = Hides Dev 7 Func 0 of IIO Stack0
//
// Here are the list of the DFX devices hidden by default. For now it applies to all sockets
//
//---------------------------------------------------------------------------------------------------------------------
// Stack/Function |  0       |  1       |  2       |  3       |  4       |  5       |  6       |  7       |
//---------------------------------------------------------------------------------------------------------------------
// IIO_STACK0     |          |          | 2        | 0        |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------
// IIO_STACK1     |          | 4-7      |          | 0        |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------
// IIO_STACK2     |          |          |          | 0        |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------
// IIO_STACK3     |          |          |          | 0        |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------
// IIO_STACK4     |          |          |          | 0        |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------
// UNCORE_STACK0  |          |          |          |          |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------
// UNCORE_STACK1  |          |          |          |          |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------

IIO_DEVFUNHIDE_TABLE IioDevFuncHideTable_Snr[] = {
  { // socket 0
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x00000000, 0x00000000, 0x00000004, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK0
   {0x00000000, 0x000000F0, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK1
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK2
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK3
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}}, // IIO_STACK4
   {{0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // UNCORE_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}} // UNCORE_STACK1
  }
};

// TNR table definition is as follows:run
// Column = Funcion0 -7
// Row  = IIO Stack0-4 and Uncore Stack0-1
// Item = Bit 0-31 is related to every Device Number
// So for example Column 0 and Row 0
// 0x00000080 = Hides Dev 7 Func 0 of IIO Stack0
//
// Here are the list of the DFX devices hidden by default. For now it applies to all sockets
//
//---------------------------------------------------------------------------------------------------------------------
// Stack/Function |  0       |  1       |  2       |  3       |  4       |  5       |  6       |  7       |
//---------------------------------------------------------------------------------------------------------------------
// IIO_STACK0     |          |          | 2        | 0        |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------
// UNCORE_STACK0  |          |          |          |          |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------
// UNCORE_STACK1  |          |          |          |          |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------

IIO_DEVFUNHIDE_TABLE IioDevFuncHideTable_Tnr[] = {
  { // socket 0
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x00000000, 0x00000000, 0x00000004, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}}, // IIO_STACK0
   {{0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // UNCORE_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}} // UNCORE_STACK1
  }
};

// SPR table definition is as follows:run
// Column = Funcion0 -7
// Row  = IIO Stack0-7 and Uncore Stack0-1
// Item = Bit 0-31 is related to every Device Number
// So for example Column 0 and Row 0
// 0x00000080 = Hides Dev 7 Func 0 of IIO Stack0
//
// Here are the list of the DFX devices hidden by default. For now it applies to all sockets
//
//---------------------------------------------------------------------------------------------------------------------
// Stack/Function |  0       |  1       |  2       |  3       |  4       |  5       |  6       |  7       |
//---------------------------------------------------------------------------------------------------------------------
// IIO_STACK0     |          |          |          |          |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------
// IIO_STACK1     |          |          |          |          |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------
// IIO_STACK2     |          |          |          |          |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------
// UNCORE_STACK0  |          |          |          |          |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------
// UNCORE_STACK1  |          |          |          |          |          |          |          |          |
//---------------------------------------------------------------------------------------------------------------------

IIO_DEVFUNHIDE_TABLE IioDevFuncHideTable_Spr[] = {
  { // socket 0
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x00000000,0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK1
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK2
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK3
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK4
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK5
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK6 fused off
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK7 fused off
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK8
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK9
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK10
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}},// IIO_STACK11

   {{0x00000000,0x00000000, 0x00000000, 0x0000001E, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // UNCORE_STACK0 DFX devices( D1F3/D2F3/D3F3/D4F3) are disabled
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}} // UNCORE_STACK1
  },
  { // socket 1
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x00000000,0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK1
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK2
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK3
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK4
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK5
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK6 fused off
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK7 fused off
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK8
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK9
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK10
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}},// IIO_STACK11

   {{0x00000000,0x00000000, 0x00000000, 0x0000001E, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // UNCORE_STACK0 DFX devices( D1F3/D2F3/D3F3/D4F3) are disabled
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}} // UNCORE_STACK1
  },
  { // socket 2
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x00000000,0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK1
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK2
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK3
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK4
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK5
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK6 fused off
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK7 fused off
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK8
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK9
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK10
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}},// IIO_STACK11

   {{0x00000000,0x00000000, 0x00000000, 0x0000001E, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // UNCORE_STACK0 DFX devices( D1F3/D2F3/D3F3/D4F3) are disabled
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}} // UNCORE_STACK1
  },
  { // socket 3
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x00000000,0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK1
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK2
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK3
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK4
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK5
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK6 fused off
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK7 fused off
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK8
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK9
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK10
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}},// IIO_STACK11

   {{0x00000000,0x00000000, 0x00000000, 0x0000001E, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // UNCORE_STACK0 DFX devices( D1F3/D2F3/D3F3/D4F3) are disabled
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}} // UNCORE_STACK1
  },
  { // socket 4
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x00000000,0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK1
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK2
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK3
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK4
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK5
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK6 fused off
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK7 fused off
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK8
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK9
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK10
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}},// IIO_STACK11

   {{0x00000000,0x00000000, 0x00000000, 0x0000001E, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // UNCORE_STACK0 DFX devices( D1F3/D2F3/D3F3/D4F3) are disabled
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}} // UNCORE_STACK1
  },
  { // socket 5
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x00000000,0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK1
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK2
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK3
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK4
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK5
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK6 fused off
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK7 fused off
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK8
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK9
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK10
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}},// IIO_STACK11

   {{0x00000000,0x00000000, 0x00000000, 0x0000001E, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // UNCORE_STACK0 DFX devices( D1F3/D2F3/D3F3/D4F3) are disabled
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}} // UNCORE_STACK1
  },
  { // socket 6
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x00000000,0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK1
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK2
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK3
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK4
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK5
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK6 fused off
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK7 fused off
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK8
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK9
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK10
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}},// IIO_STACK11

   {{0x00000000,0x00000000, 0x00000000, 0x0000001E, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // UNCORE_STACK0 DFX devices( D1F3/D2F3/D3F3/D4F3) are disabled
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}} // UNCORE_STACK1
  },
  { // socket 7
      //  FUN0       FUNC1       FUNC2       FUNC3        FUNC4       FUNC5       FUNC6        FUNC7
   {{0x00000000,0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK0
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK1
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK2
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK3
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK4
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK5
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK6 fused off
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // IIO_STACK7 fused off
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK8
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK9
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}, // IIO_STACK10
   {0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000001, 0x00000000, 0x00000000}},// IIO_STACK11

   {{0x00000000,0x00000000, 0x00000000, 0x0000001E, 0x00000000, 0x00000000, 0x00000000, 0x00000000}, // UNCORE_STACK0 DFX devices( D1F3/D2F3/D3F3/D4F3) are disabled
   {0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000}} // UNCORE_STACK1
  }
};
/**
  Get FuncHideTable for PCIe.

  @param[in] PcieInfoDefaultsTable - Pointer to FuncHideTable

  @return Standard EFI status is returned.
**/
EFI_STATUS
EFIAPI
IioMiscGetFuncHideTable (
  IIO_DEVFUNHIDE_TABLE    **DevHideTable
  )
{
  UINT8         IioIndex;

  *DevHideTable = NULL;
  if (IsCpuAndRevision (CPU_SPRSP, REV_ALL)) {
    *DevHideTable = IioDevFuncHideTable_Spr;
  } else if (IsCpuAndRevision (CPU_ICXSP, REV_ALL)) {
    *DevHideTable = IioDevFuncHideTable_IcxSp;
  } else if (IsCpuAndRevision (CPU_ICXD, REV_ALL)) {
    *DevHideTable = IioDevFuncHideTable_IcxDe;
  } else if (IsCpuAndRevision (CPU_SNR, REV_ALL)) {
    *DevHideTable = IioDevFuncHideTable_Snr;
  } else if (IsCpuAndRevision (CPU_TNR, REV_ALL)) {
    *DevHideTable = IioDevFuncHideTable_Tnr;
  } else if (IsCpuAndRevision (CPU_SKX, REV_ALL) ||
             IsCpuAndRevision (CPU_CLX, REV_ALL) ||
             IsCpuAndRevision (CPU_CPX, REV_ALL)) {

    for (IioIndex = 0; IioIndex < MaxIIO; IioIndex++) {
      if (!IioDmiIsPortIdentity (IioIndex, PORT_0_INDEX, IioDmiPortActive)) {
        IioDevFuncHideTable_Skx[IioIndex].IioStackDevHide[IIO_STACK0].DevToHide[DMI_FUNC_NUM] |= 1;
      }
    }
    *DevHideTable = IioDevFuncHideTable_Skx;  // Use uncore bus to hide devices
  } else {
    ASSERT (FALSE);
    return EFI_NOT_FOUND;
  }
  return EFI_SUCCESS;
}
